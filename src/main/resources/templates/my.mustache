<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>마이페이지</title>
</head>
<body>
<h1>마이페이지</h1>
<hr>

<!--
    컨트롤러에서 "user"라는 이름으로 넘겨준 CustomOAuth2User 객체의
    getter 메소드에 직접 접근합니다.
-->
<div th:if="${user != null}">
    <!-- th:text="${user.name}"은 customOAuth2User.getName()을 호출합니다. -->
    <p><strong>이름:</strong> <span th:text="${user.name}">사용자 이름</span></p>

    <!-- th:text="${user.email}"은 customOAuth2User.getEmail()을 호출합니다. -->
    <p><strong>이메일:</strong> <span th:text="${user.email}">user@example.com</span></p>

    <!-- 만약 CustomOAuth2User에 getRole() 메소드가 있다면 아래와 같이 역할 정보도 표시할 수 있습니다. -->
    <!-- <p><strong>역할:</strong> <span th:text="${user.role}">USER</span></p> -->
</div>

<div th:if="${user == null}">
    <p>사용자 정보를 불러올 수 없습니다.</p>
</div>

<br>
<a href="/">홈으로 돌아가기</a>
</body>
</html>
